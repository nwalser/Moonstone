@using Amber.App.Services
@using Moonstone

@if (Workspaces.Current is not null && ChildContent is not null)
{
    @ChildContent(Workspaces.Current);
}

@code {
    [Inject] public required Workspaces Workspaces { get; set; }

    [Parameter] public RenderFragment<Workspace>? ChildContent { get; set; }
    
    
    protected override void OnInitialized()
    {
        Workspaces.Current?.ExternalChange.Subscribe(_ => InvokeAsync(StateHasChanged));
        base.OnInitialized();
    }
}